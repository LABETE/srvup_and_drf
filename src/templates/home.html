{% extends "base.html" %}

{% block head_title %}
  Welcome
{% endblock head_title %}

<style>
  {% block style %}
    h1 {
      color: red;
    }
    .container {
        padding-right: 0px;
        padding-left: 0px;
    }
    .jumbotron{
        background-color: #000673;
        background-image: url(http://www.transparenttextures.com/patterns/brushed-alum.png);
        /* This is mostly intended for prototyping; please download the pattern and re-host for production environments. Thank you! */
        
    }
    .container .jumbotron, .container-fluid .jumbotron {
        border-radius: 0px;
    }
    .jumbotron .row {
        padding-top: 0px;
    }
    .nav-tabs {
      border-bottom: 0px solid #ddd;
    }
    .nav-tabs>li>a {
        border-bottom-width: 0;
        color: #FFFFFF;
    }
    .nav-tabs>li>a:hover {
        color: #000673;
    }
    .tab-container {
        height: 380px;
    }
    .tab-content {
        background-color: #FFFFFF;
        padding: 5px 7px 5px 7px;
        border-radius: 0px 4px 4px 4px;
    }
    
 
  {% endblock style %}
</style>

{% block jumbotron %}
    <div class="row">
        {% if not request.user.is_authenticated %}
    	<div class="jumbotron jumbotron-fluid">
    	  	<div class="row">
                <div class="col-sm-8 col-sm-offset-2">
        		  	<div class="col-sm-6">
        		  		<h1>Welcome</h1>
        		  		<p>This is our site.</p>
        		  	</div>
        		  	<div class="col-sm-6">
        		  		<div role="tabpanel">
        		  			<ul class="nav nav-tabs tabs-content-panel" role="tablist">
        		  				<li role="presentation" class="active">
        		  					<a href="#register" aria-controls="register" role="tab" data-toggle="tab">
        		  						Register
        		  					</a>
        		  				</li>
        		  				<li role="presentation">
        		  					<a href="#login" aria-controls="login" role="tab" data-toggle="tab">
        		  						Login
        		  					</a>
        		  				</li>
        		  			</ul>
        		  			<div class="tab-container">
                                <div class="tab-content">
            		  				<div role="tabpanel" class="tab-pane active tabs-content-panel" id="register">
            		  					<form class="signup" id="signup_form" method="post" action="{% url 'account_signup' %}">
            		  						{% csrf_token %}
            		                    	<div id="div_id_username" class="form-group"> 
            		                    		<label for="id_username" class="control-label  requiredField">
                        							Username
                        							<span class="asteriskField">*</span> 
                        						</label> 
                        						<div class="controls "> 
                        							<input autofocus="autofocus" class="textinput textInput form-control" id="id_username" maxlength="255" name="username" placeholder="Username" type="text" /> 
                        						</div> 
                        					</div> 
                        					<div id="div_id_email" class="form-group"> 
                        						<label for="id_email" class="control-label  requiredField">
                        							E-mail
                        							<span class="asteriskField">*</span> 
                        						</label> 
                        						<div class="controls "> 
                        							<input class="textinput textInput form-control" id="id_email" name="email" placeholder="E-mail address" type="email" /> 
                        						</div> 
                        					</div> 
                        					<div id="div_id_password1" class="form-group"> 
                        						<label for="id_password1" class="control-label  requiredField">
                        							Password
                        							<span class="asteriskField">*</span> 
                        						</label> 
                        						<div class="controls "> 
                        							<input class="textinput textInput form-control" id="id_password1" name="password1" placeholder="Password" type="password" /> 
                        						</div> 
                        					</div> 
                        					<div id="div_id_password2" class="form-group"> 
                        						<label for="id_password2" class="control-label  requiredField">
                        							Password (again)
                        							<span class="asteriskField">*</span> 
                        						</label> 
                        						<div class="controls "> 
                        							<input class="textinput textInput form-control" id="id_password2" name="password2" placeholder="Password (again)" type="password" /> 
                        						</div> 
                        					</div> 
                        					<input id="id_confirmation_key" maxlength="40" name="confirmation_key" type="hidden" />
            								<button class="btn btn-primary btn-block" type="submit">Sign Up</button>
            			                </form>
            		  				</div>
            		  				<div role="tabpanel" class="tab-pane" id="login">
            		  					<form class="login" method="POST" action="{% url 'account_login' %}">
            		  						{% csrf_token %}
            			                    <div id="div_id_login" class="form-group"> 
            			                    	<label for="id_login" class="control-label  requiredField">
                            						Login
                            						<span class="asteriskField">*</span> 
                            					</label> 
                            					<div class="controls "> 
                            						<input autofocus="autofocus" class="textinput textInput form-control" id="id_login" name="login" placeholder="Username or e-mail" type="text" /> 
                            					</div> 
                            				</div> 
                            				<div id="div_id_password" class="form-group"> 
                            					<label for="id_password" class="control-label  requiredField">
                            						Password
                            						<span class="asteriskField">*</span> 
                            					</label> 
                            					<div class="controls "> 
                            						<input class="textinput textInput form-control" id="id_password" name="password" placeholder="Password" type="password" /> 
                            					</div> 
                            				</div> 
                            				<div class="form-group"> 
                            					<div id="div_id_remember" class="checkbox"> 
                            						<label for="id_remember" class=""> 
                            							<input class="checkboxinput" id="id_remember" name="remember" type="checkbox" />
                                						Remember Me
                              						</label> 
                              					</div> 
                              				</div>
            								<button class="btn btn-primary btn-block" type="submit">Sign In</button>
            									<a class="button secondaryAction" href="{% url 'account_reset_password' %}">Forgot Password?</a>
            			                 </form>
            		  				</div>
            		  			</div>
                            </div>
        		  		</div>
        		  	</div>
                </div>
    	  	</div>
    	</div>
        {% endif %}
    </div>
{% endblock jumbotron %}

{% block content %}
    
     <!-- Marketing messaging and featurettes
    ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->
    {% if not request.user.is_authenticated %}
    <div class="container-fluid marketing">

        <!-- Three columns of text below the carousel -->
        <div class="row col-sm-10 col-sm-offset-1">
            <div class="col-lg-4">
                <img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" width="140" height="140">
                <h2>Awesome information</h2>
                <p>The best news.</p>
                <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
            </div><!-- /.col-lg-4 -->
            <div class="col-lg-4">
                <img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" width="140" height="140">
                <h2>Awesome information</h2>
                <p>The best news.</p>
                <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
            </div><!-- /.col-lg-4 -->
            <div class="col-lg-4">
                <img class="img-circle" src="data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==" alt="Generic placeholder image" width="140" height="140">
                <h2>Awesome information</h2>
                <p>The best news.</p>
                <p><a class="btn btn-default" href="#" role="button">View details &raquo;</a></p>
            </div><!-- /.col-lg-4 -->
        </div>

        <!-- START THE FEATURETTES -->

        <hr class="featurette-divider col-sm-12">

        <div class="row featurette col-sm-10 col-sm-offset-1">
            <div class="col-sm-6">
                <h2 class="featurette-heading">Best Categories. <span class="text-muted">It'll blow your mind.</span></h2>
            </div>
            <div class="row col-sm-6">
                <div id="carousel-example-generic" class="carousel slide" data-ride="carousel">
                    <!-- Indicators -->
                    <ol class="carousel-indicators">
                    {% for cat in featured_categories %}
                        <li data-target="#carousel-example-generic" data-slide-to="{{ forloop.count }}" class="{% if forloop.first %} active {% endif %}"></li>
                        {% endfor %}
                    </ol>

                    <!-- Wrapper for slides -->
                    <div class="carousel-inner" role="listbox">
                        {% for cat in featured_categories %}
                        <div class="item {% if forloop.first %} active {% endif %}">
                            <a href="{{ cat.get_absolute_url }}">
                                <img src="{{ cat.get_image_url }}" width="200" class="img-responsive center-block"  alt="">
                            </a>
                        </div>
                        {% endfor %}
                    </div>
                    
                    <!-- Controls -->
                    <a class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev">
                        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next">
                        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>
        </div>

        <hr class="featurette-divider col-sm-12">

        <div class="row featurette col-sm-10 col-sm-offset-1">
            <div class="panel panel-default col-sm-6">
                <!-- Default panel contents -->
                <div class="panel-heading">Featured Videos</div>
                <!-- Table -->
                <table class="table">
                    {% for vid in featured_videos %}
                    <tbody>
                        <tr>
                            <td>
                                <a href="{{ vid.get_absolute_url }}">
                                {{ vid.title }}
                                </a>
                            </td>
                            <td>
                                {% if vid.free_preview %}
                                Free Preview
                                {% endif %}
                            </td>
                        </tr>
                    </tbody>
                    {% endfor %}
                </table>
            </div>
            <div class="col-sm-6">
                <h2 class="featurette-heading">Most Viewed. <span class="text-muted">See for yourself.</span></h2>
            </div>
        </div>
    </div>
    {% endif %}
    <div class="row">
        <div class="col-sm-8 col-sm-offset-2">
            <div class="row">
                {% if not recent_videos %}
                <div class="col-sm-12">
                    <h2>Try these videos</h2>
                    {% for video in random_videos %}
                        <div class="col-sm-4">
                        <a href="{{ video.get_absolute_url }}">
                            {{ video }}
                        </a>
                        <br/>
                         
                        <a href="{{ video.get_absolute_url }}">
                            <img src="{{ video.category.get_image_url }}" width="150" class="img-responsive" alt="">
                        </a>
                        </div>
                    {% endfor %}
                </div>
                {% endif %}
                <div class="col-sm-4">
                    <div class="row">
                        <div class="col-sm-12">
                            <h2>Recent Videos</h2>
                            {% if recent_videos %}
                                {% for video in recent_videos %}
                                    <a href="{{ video.get_absolute_url }}">
                                        {{ video }}
                                    </a>
                                     <br/>
                                     <a href="{{ video.get_absolute_url }}">
                                        <img src="{{ video.category.get_image_url }}" width="200" class="img-responsive" alt="">
                                    </a>
                                    <br/>
                                {% endfor %}
                            {% else %}
                                <p class="lead">You have no recent videos.</p>
                            {% endif %}
                        </div>
                        <div class="col-sm-12">
                            <h2>Popular Videos</h2>
                            {% if popular_videos %}
                                {% for video in popular_videos %}
                                    <a href="{{ video.get_absolute_url }}">
                                        {{ video }}
                                    </a>
                                     <br/>
                                     <a href="{{ video.get_absolute_url }}">
                                        <img src="{{ video.category.get_image_url }}" width="200" class="img-responsive" alt="">
                                    </a>
                                    <br/>
                                {% endfor %}
                            {% endif %}
                        </div>
                    </div>
                </div>
                <div class="col-sm-8">
                    <h2>Recent Comments</h2>
                    {% if recent_comments %}
                        {% for comment in recent_comments %}
                            <table class="table">
                                <tr>
                                    <td>
                                        {{ comment.get_preview }}
                                        <br/>
                                        <small>
                                            via {{ comment.user }} | {{ comment.timestamp|timesince }} ago.
                                        </small>
                                    </td>
                                    <td>
                                        <a href="{{ comment.video.get_absolute_url }}">video</a>
                                    </td>
                                     <td>
                                        <a href="{{ comment.get_absolute_url }}">view thread</a>
                                    </td>
                                </tr>
                            </table>
                        {% endfor %}
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
    

{% endblock content %}